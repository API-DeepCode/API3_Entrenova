@import "tailwindcss";

@layer base {
  :root {
    /* Light theme tokens (HSL values for Tailwind v4 tokens) */
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    /* Brand: purple as primary, pink as secondary (dashboard) */
    --primary: 259 64% 47%;         /* approx #4d2cc4 */
    --primary-foreground: 0 0% 100%;

    --secondary: 337 100% 65%;      /* approx #ff4687 */
    --secondary-foreground: 0 0% 100%;

    --muted: 240 5% 96%;
    --muted-foreground: 240 4% 46%;

    --accent: 262 83% 58%;          /* purple accent */
    --accent-foreground: 0 0% 100%;

    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 98%;

    --border: 240 6% 90%;
    --input: 240 6% 90%;
    --ring: 255 95% 65%;

    --radius: 0.75rem;
  }

  .dark {
    /* Dark theme tokens aligned to brand gradient */
    --background: 248 66% 12%;      /* deep indigo base (body keeps gradient below) */
    --foreground: 0 0% 95%;

    --card: 255 36% 20%;            /* muted indigo card */
    --card-foreground: 0 0% 96%;

    --popover: 255 36% 20%;
    --popover-foreground: 0 0% 96%;

    --primary: 259 64% 55%;         /* brighter purple */
    --primary-foreground: 0 0% 100%;

    --secondary: 337 100% 68%;      /* vibrant pink */
    --secondary-foreground: 0 0% 100%;

    --muted: 255 28% 24%;
    --muted-foreground: 0 0% 70%;

    --accent: 270 80% 64%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 98%;

    --border: 255 24% 30%;
    --input: 255 24% 30%;
    --ring: 259 90% 68%;
  }
}

body {
  /* Branded purple gradient background */
  background: linear-gradient(110deg, #311597 0%, #4d2cc4 50%, #200972 100%);
  color: hsl(var(--foreground));
  font-family: var(--font-nunito), sans-serif;
  overflow-x: hidden;
}

/* Remove o ícone de mostrar senha padrão dos navegadores */
input[type="password"]::-ms-reveal,
input[type="password"]::-ms-clear {
  display: none;
}

input[type="password"]::-webkit-credentials-auto-fill-button,
input[type="password"]::-webkit-clear-button,
input[type="password"]::-webkit-password-toggle-button {
  display: none;
  appearance: none;
}

/* Em /api3/app/globals.css (Adicione no final) */

/* --- Chatbot Moderno (Adaptado) --- */
.chat-wrapper {
  display: flex;
  height: 600px; /* Altura fixa ou 100% se for fullscreen */
  width: 100%;
  border-radius: var(--radius);
  background-color: hsl(var(--card)); /* Usa a cor do seu cartão */
  border: 1px solid hsl(var(--border));
  overflow: hidden;
  position: relative;
}

/* Sidebar (Histórico) */
.chat-sidebar {
  width: 260px;
  border-right: 1px solid hsl(var(--border));
  padding: 16px;
  display: flex;
  flex-direction: column;
  background-color: hsl(var(--background)); /* Fundo escuro */
}

.chat-sidebar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}

.sidebar-title {
  font-size: 0.95rem;
  font-weight: 600;
  color: hsl(var(--foreground));
}

.sidebar-new-chat-btn {
  padding: 6px 12px;
  border-radius: 20px;
  border: 1px solid hsl(var(--primary));
  background-color: transparent;
  color: hsl(var(--primary));
  cursor: pointer;
  font-size: 0.8rem;
  transition: all 0.2s;
}

.sidebar-new-chat-btn:hover {
  background-color: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
}

/* Área Principal */
.chat-main {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 0;
  background-color: hsl(var(--card));
}

.chat-header-row {
  padding: 16px;
  border-bottom: 1px solid hsl(var(--border));
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: hsl(var(--background) / 0.5);
}

.chat-current-title {
  font-size: 1rem;
  font-weight: 600;
  color: hsl(var(--foreground));
}

/* Lista de Mensagens */
.message-list {
  flex-grow: 1;
  overflow-y: auto;
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.message {
  padding: 12px 16px;
  border-radius: 12px;
  max-width: 80%;
  line-height: 1.5;
  font-size: 0.95rem;
  position: relative;
}

.message.user {
  background-color: hsl(var(--primary)); /* Rosa */
  color: hsl(var(--primary-foreground));
  align-self: flex-end;
  border-bottom-right-radius: 4px;
}

.message.bot {
  background-color: hsl(var(--muted)); /* Cinza */
  color: hsl(var(--foreground));
  align-self: flex-start;
  border-bottom-left-radius: 4px;
}

/* Área de Input (Agora Botões) */
.chat-input-area {
  padding: 20px;
  border-top: 1px solid hsl(var(--border));
  background-color: hsl(var(--background) / 0.5);
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
}

/* Animação de digitação */
.typing-indicator {
  display: flex;
  gap: 4px;
  padding: 4px 8px;
  background: hsl(var(--muted));
  border-radius: 12px;
  width: fit-content;
}
.typing-dot {
  width: 6px;
  height: 6px;
  background: hsl(var(--foreground) / 0.5);
  border-radius: 50%;
  animation: bounce 1.4s infinite ease-in-out both;
}
.typing-dot:nth-child(1) { animation-delay: -0.32s; }
.typing-dot:nth-child(2) { animation-delay: -0.16s; }

@keyframes bounce {
  0%, 80%, 100% { transform: scale(0); }
  40% { transform: scale(1); }
}